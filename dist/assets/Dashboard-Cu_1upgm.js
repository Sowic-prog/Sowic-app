import{c as O,u as ce,a as de,r as i,j as e,X as v,F as _,W as N,L as xe,U as me,G as ue,C as pe,T as he,P as be,H as ge,b as fe,s as n}from"./index-DOan4Mna.js";import{W as P,a as B,A as w}from"./types-CD_RJx0M.js";import{A as je}from"./arrow-left-xNHYDm2s.js";import{S as H}from"./scan-line-Y3TeLjVw.js";import{S as F}from"./search-CPhyDFuk.js";import{C as h}from"./chevron-right-CYe8aAd4.js";import{B as ve}from"./box-DhsNF7wu.js";import{C as $}from"./check-xQV7VfT4.js";import{S as Ne}from"./shield-alert-CVltm9hy.js";import{B as G}from"./bell-D2meMWZO.js";import{B as we}from"./bot-B_idB5zT.js";import{C as V,R as ye,P as Ce,a as ke,b as Se,T as Ae}from"./PieChart-ByDsTZsS.js";import{T as ze}from"./trending-up-DYhFKAGs.js";import{H as De}from"./history-CExPCLNK.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Ie=O("bell-ring",Re);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],Oe=O("layout-grid",Pe);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ee=O("settings",Te),Le=[{id:"1",internalId:"MAQ-NH-04",barcodeId:"1001",name:"Retroexcavadora New Holland B90B",type:"Maquinaria",description:"Retroexcavadora 4x4 con brazo extensible",status:w.OPERATIONAL,ownership:"Propio",hours:4250,location:"Chubut - Parque Eólico",responsible:"Operador Juan Ruiz",image:"https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?auto=format&fit=crop&q=80&w=400",brand:"New Holland",model:"B90B",serial:"NHB90B8892",year:2021,dailyRate:18e4,value:85e6,accountingAccount:"1.04.02.001 - Maquinaria Pesada",functionalDescription:"Excavación, carga y zanjeo en obra civil.",complementaryDescription:"Incluye kit de martillo hidráulico y aire acondicionado en cabina.",originYear:2021,usefulLifeRemaining:8,tti:12.5,domainNumber:"AE-123-BC",expirations:[{id:"e1",type:"Seguro",expirationDate:"2024-12-31",notes:"Poliza Mercantil Andina"},{id:"e2",type:"Certificación",expirationDate:"2024-06-15",notes:"Certificación de Izaje"}],averageDailyUsage:8},{id:"2",internalId:"VHL-TYT-12",barcodeId:"1002",name:"Toyota Hilux SRX 4x4",type:"Rodados",description:"Camioneta Doble Cabina para supervisión",status:w.ON_SITE,ownership:"Propio",hours:45e3,location:"San Juan - Barreal",responsible:"Ing. Carlos Mendez",image:"https://images.unsplash.com/photo-1566008885218-90abf9200ddb?auto=format&fit=crop&q=80&w=400",brand:"Toyota",model:"Hilux SRX",serial:"TYT773829",year:2023,dailyRate:75e3,value:42e6,accountingAccount:"1.04.01.005 - Rodados",functionalDescription:"Traslado de personal técnico y herramientas livianas.",complementaryDescription:"Equipada con jaula antivuelco interna y sistema de seguimiento satelital.",originYear:2023,usefulLifeRemaining:4,tti:15,domainNumber:"AF-456-DD",expirations:[{id:"e1",type:"ITV",expirationDate:"2024-05-20",notes:"Revisión técnica obligatoria"},{id:"e2",type:"Seguro",expirationDate:"2024-11-30",notes:"Seguro contra todo riesgo"},{id:"e3",type:"Cédula Verde",expirationDate:"2025-01-15",notes:"Vencimiento cédula autorizado"}],averageDailyUsage:120},{id:"3",internalId:"ALQ-GEN-01",barcodeId:"",name:"Generador Cummins 110kVA",type:"Maquinaria",description:"Generador Estacionario Alquilado",status:w.ON_SITE,ownership:"Alquilado",supplier:"Sullair Argentina",hours:1250,location:"Obra Córdoba Capital",responsible:"Jefe de Obra",image:"https://images.unsplash.com/photo-1455386866442-7d22e0325493?auto=format&fit=crop&q=80&w=400",brand:"Cummins",model:"C110D5",serial:"CUM-99283-RENT",year:2022,dailyRate:45e3,value:0,accountingAccount:"5.02.01.010 - Alquileres de Equipos",functionalDescription:"Provisión de energía eléctrica temporal en obra.",complementaryDescription:"Contrato marco #2023-992. Incluye mantenimiento por proveedor.",originYear:2023,usefulLifeRemaining:0,tti:0,expirations:[],averageDailyUsage:12},{id:"4",internalId:"INF-NAV-01",barcodeId:"9001",name:"Nave Industrial Central",type:"Instalaciones en infraestructuras",description:"Depósito principal y taller de reparaciones.",status:w.OPERATIONAL,ownership:"Propio",hours:0,location:"Base Operativa - Córdoba",responsible:"Gerente de Mantenimiento",image:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&q=80&w=400",brand:"N/A",model:"Infraestructura",serial:"N/A",year:2015,dailyRate:0,value:15e7,accountingAccount:"1.02.01.001 - Inmuebles",originYear:2015,usefulLifeRemaining:40,tti:0,regulatoryData:{pat:{lastDate:"2023-12-10",expirationDate:"2024-12-10",value:"3.2 Ohm",status:"Vigente"},lighting:{lastDate:"2023-06-15",expirationDate:"2024-06-15",avgLux:450,status:"Vigente"},ergonomics:{lastDate:"2022-03-01",expirationDate:"2024-03-01",riskLevel:"Bajo",status:"Vencido"}}}],Me=[{id:"1",internalId:"PRJ-24-001",name:"Parque Eólico Chubut",responsible:"Ing. Roberto Gómez",status:"Activa",location:"Chubut, Argentina",assignedAssets:12,assignedStaff:45},{id:"2",internalId:"PRJ-24-003",name:"Torre Central Córdoba",responsible:"Arq. Laura Silva",status:"Activa",location:"Córdoba Capital",assignedAssets:5,assignedStaff:20},{id:"3",internalId:"PRJ-23-015",name:"Ruta Provincial 12",responsible:"Ing. Pedro Almunia",status:"Cerrada",location:"Santa Fe",assignedAssets:0,assignedStaff:0}],qe=[{id:"1",name:"Juan Pérez",role:"Operador Maquinaria",status:"En Obra",location:"Parque Eólico Chubut",avatar:"https://images.unsplash.com/photo-1633332755192-727a05c4013d?auto=format&fit=crop&q=80&w=100",assignedAssets:["1"],email:"juan.perez@sowic.com",phone:"+54 9 11 1234 5678"},{id:"2",name:"Carlos Mendez",role:"Supervisor de Obra",status:"En Obra",location:"San Juan - Barreal",avatar:"https://images.unsplash.com/photo-1599566150163-29194dcaad36?auto=format&fit=crop&q=80&w=100",assignedAssets:["2"],email:"carlos.mendez@sowic.com",phone:"+54 9 11 8765 4321"},{id:"3",name:"Ana Lopez",role:"Jefa de Taller",status:"Disponible",location:"Base Central",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=100",assignedAssets:[],email:"ana.lopez@sowic.com",phone:"+54 9 11 1122 3344"}],_e=[{id:"1",barcodeId:"2001",name:"Filtro Aceite Motor NH",category:"Consumibles",type:"Consumible",quantity:12,minThreshold:5,location:"Pañol Central",unitPrice:15e3,status:"Disponible"},{id:"2",barcodeId:"3005",name:"Taladro Percutor Dewalt",category:"Herramientas",type:"Serializado",quantity:1,minThreshold:0,location:"Pañol Central",unitPrice:12e4,serialNumber:"DW-99283-X",status:"Disponible"},{id:"3",barcodeId:"2005",name:"Casco Seguridad Amarillo",category:"Seguridad",type:"Consumible",quantity:45,minThreshold:10,location:"Pañol Central",unitPrice:8500,status:"Disponible"}],Be=[{id:"OT-2024-101",title:"Service 500hs Retroexcavadora",assetId:"1",assetName:"Retroexcavadora New Holland B90B",status:P.PENDING,priority:B.HIGH,dateStart:"2024-05-25",responsible:"Ana Lopez",description:"Realizar cambio de aceite motor, filtros de combustible y aire. Verificar sistema hidráulico.",updates:[{id:"u1",date:"2024-05-24 10:00",user:"Ana Lopez",comment:"OT Creada. Esperando repuestos.",newStatus:P.PENDING}],expenses:[]},{id:"OT-2024-098",title:"Reparación Cubierta Delantera",assetId:"2",assetName:"Toyota Hilux SRX 4x4",status:P.IN_PROGRESS,priority:B.MEDIUM,dateStart:"2024-05-24",responsible:"Carlos Mendez",description:"Pinchadura en cubierta delantera derecha. Enviar a gomería local.",updates:[],expenses:[]}],tt=()=>{const l=ce(),{user:c}=de(),[d,x]=i.useState(""),[y,b]=i.useState(!1),[C,g]=i.useState(!1),[k,f]=i.useState(!1),S=i.useRef(null),[A,W]=i.useState([]),[J,U]=i.useState([]),[T,Y]=i.useState([]),[j,K]=i.useState(!0);i.useEffect(()=>{(async()=>{try{const[{data:a},{data:o},{data:s},{data:re},{data:le}]=await Promise.all([n.from("vehicles").select("id, name, status, internal_id"),n.from("machinery").select("id, name, status, internal_id"),n.from("it_equipment").select("id, name, status, internal_id"),n.from("mobiliario").select("id, name, status, internal_id"),n.from("infrastructures").select("id, name, status, internal_id")]),R=[...a||[],...o||[],...s||[],...re||[],...le||[]];R.length>0&&W(R);const{data:L}=await n.from("work_orders").select("*").neq("status","Completada");L&&U(L);const{data:M}=await n.from("work_orders").select("id, title, status, created_at, asset_id").order("created_at",{ascending:!1}).limit(5);if(M){const oe=M.map(q=>{const I=R.find(ne=>ne.id===q.asset_id);return{...q,asset:{name:(I==null?void 0:I.name)||"Desconocido"}}});Y(oe)}}catch(a){console.error("Error fetching dashboard data:",a)}finally{K(!1)}})()},[]);const[m,E]=i.useState([{id:"1",title:"Vencimiento de Seguro",description:"El seguro de la Toyota Hilux [VHL-TYT-12] vence en 5 días.",time:"Hace 10 min",type:"critical",read:!1,link:"/assets"},{id:"2",title:"Mantenimiento Pendiente",description:"OT-2024-101 requiere aprobación de materiales.",time:"Hace 1 hora",type:"warning",read:!1,link:"/maintenance/ot/OT-2024-101"},{id:"3",title:"Stock Crítico: Filtros",description:"Quedan menos de 5 unidades de Filtro Aceite NH en Pañol.",time:"Hace 3 horas",type:"warning",read:!1,link:"/inventory"},{id:"4",title:"Traslado Completado",description:"El Compresor Atlas Copco ha llegado a Chubut.",time:"Ayer",type:"success",read:!0,link:"/logistics"}]),Q=m.filter(t=>!t.read).length,X=()=>{E(m.map(t=>({...t,read:!0})))},Z=(t,a)=>{t.stopPropagation(),E(m.filter(o=>o.id!==a))},r=i.useMemo(()=>{if(!d.trim())return null;const t=d.toLowerCase(),a={assets:Le.filter(s=>s.name.toLowerCase().includes(t)||s.internalId.toLowerCase().includes(t)||s.serial.toLowerCase().includes(t)),projects:Me.filter(s=>s.name.toLowerCase().includes(t)||s.internalId.toLowerCase().includes(t)),staff:qe.filter(s=>s.name.toLowerCase().includes(t)||s.role.toLowerCase().includes(t)),inventory:_e.filter(s=>s.name.toLowerCase().includes(t)||s.serialNumber&&s.serialNumber.toLowerCase().includes(t)),workOrders:Be.filter(s=>s.title.toLowerCase().includes(t)||s.id.toLowerCase().includes(t))};return Object.values(a).some(s=>s.length>0)?a:"empty"},[d]),u=(t,a)=>{switch(x(""),b(!1),t){case"asset":l("/assets",{state:{targetAssetId:a}});break;case"project":l("/projects",{state:{targetProjectId:a}});break;case"staff":l("/personnel",{state:{targetStaffId:a}});break;case"inventory":l("/inventory");break;case"wo":l(`/maintenance/ot/${a}`);break}};i.useEffect(()=>{let t=null;return C&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(a=>{t=a,S.current&&(S.current.srcObject=a)}).catch(a=>console.error("Error accessing camera:",a)),()=>{t&&t.getTracks().forEach(a=>a.stop())}},[C]);const ee=()=>{x("MAQ-NH-04"),g(!1),b(!0)},p=i.useMemo(()=>A.reduce((t,a)=>{const o=a.status||"Desconocido";return t[o]=(t[o]||0)+1,t},{}),[A]),z=[{name:"Disponible",value:p.Disponible||0,color:"#10B981",dotClass:"bg-emerald-500"},{name:"En Obra",value:p["En Obra"]||0,color:"#3B82F6",dotClass:"bg-blue-500"},{name:"En Taller",value:p["En Taller"]||0,color:"#F59E0B",dotClass:"bg-amber-500"},{name:"Fuera de Servicio",value:p["Fuera de Servicio"]||0,color:"#EF4444",dotClass:"bg-red-500"}].filter(t=>t.value>0),D=A.length,te=p.Disponible||0,ae=D>0?Math.round(te/D*100):0,se=[{id:"services",label:"Servicios",icon:xe,path:"/services",color:"bg-white",iconColor:"text-slate-600"},{id:"personnel",label:"Personal",icon:me,path:"/personnel",color:"bg-white",iconColor:"text-orange-500"},{id:"projects",label:"Obras",icon:_,path:"/projects",color:"bg-slate-800",iconColor:"text-white"},{id:"assets",label:"Mis Activos",icon:ue,path:"/assets",color:"bg-orange-500",iconColor:"text-white"},{id:"maintenance",label:"Mantenimiento",icon:N,path:"/maintenance",color:"bg-orange-50",iconColor:"text-orange-600"}],ie=[{id:"reports",label:"Reportes",icon:pe,path:"/reports",color:"bg-white",iconColor:"text-slate-600"},{id:"logistics",label:"Logística",icon:he,path:"/logistics",color:"bg-white",iconColor:"text-slate-600"},{id:"inventory",label:"Inventario",icon:be,path:"/inventory",color:"bg-white",iconColor:"text-slate-600"},{id:"providers",label:"Proveedores",icon:ge,path:"/providers",color:"bg-white",iconColor:"text-slate-600"},{id:"calendar",label:"Calendario",icon:fe,path:"/calendar",color:"bg-white",iconColor:"text-slate-600"}];return C?e.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex flex-col font-sans",children:[e.jsx("div",{className:"absolute inset-0 z-0",children:e.jsx("video",{ref:S,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover opacity-60"})}),e.jsxs("div",{className:"relative z-10 p-6 flex justify-between items-center text-white",children:[e.jsx("button",{onClick:()=>g(!1),"aria-label":"Volver",className:"p-2 bg-black/20 rounded-full backdrop-blur-md",children:e.jsx(je,{size:24})}),e.jsx("h2",{className:"font-bold text-lg",children:"Búsqueda por Código"}),e.jsx("button",{onClick:()=>g(!1),"aria-label":"Cerrar escáner",className:"p-2 bg-black/20 rounded-full backdrop-blur-md",children:e.jsx(v,{size:24})})]}),e.jsxs("div",{className:"flex-1 relative z-10 flex flex-col items-center justify-center p-8",children:[e.jsxs("div",{className:"relative w-full max-w-[280px] aspect-square",children:[e.jsx("div",{className:"absolute top-0 left-0 w-12 h-12 border-t-4 border-l-4 border-orange-500 rounded-tl-3xl"}),e.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 border-t-4 border-r-4 border-orange-500 rounded-tr-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-12 h-12 border-b-4 border-l-4 border-orange-500 rounded-bl-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-12 h-12 border-b-4 border-r-4 border-orange-500 rounded-br-3xl"}),e.jsx("div",{className:"absolute left-4 right-4 h-1 bg-orange-500/50 shadow-[0_0_15px_rgba(249,115,22,0.8)] animate-scan top-1/2"}),e.jsx("button",{onClick:ee,"aria-label":"Simular escaneo",className:"absolute inset-0 flex items-center justify-center group",children:e.jsx(H,{size:64,className:"text-white/20 group-hover:text-orange-500/50 transition-colors"})})]}),e.jsx("p",{className:"text-white text-center mt-12 px-8 text-sm font-medium leading-relaxed drop-shadow-md",children:"Escanea un código de barras o QR para buscar automáticamente."})]})]}):e.jsxs("div",{className:"bg-[#F2F2F2] min-h-full font-sans pb-32 relative",children:[y&&e.jsx("div",{className:"fixed inset-0 z-[60] bg-slate-900/60 backdrop-blur-md animate-in fade-in duration-300 overflow-y-auto px-6 pt-24 pb-12 no-scrollbar",children:e.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center text-white mb-2",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Resultados Globales"}),e.jsx("button",{onClick:()=>{b(!1),x("")},"aria-label":"Cerrar búsqueda",className:"p-2 bg-white/10 rounded-full",children:e.jsx(v,{size:20})})]}),r==="empty"?e.jsxs("div",{className:"bg-white p-12 rounded-[2.5rem] text-center space-y-3",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-300",children:e.jsx(F,{size:32})}),e.jsx("p",{className:"font-bold text-slate-800",children:"No encontramos coincidencias"})]}):r&&e.jsxs("div",{className:"space-y-6",children:[r.assets.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-[10px] font-black text-white/50 uppercase tracking-[0.2em] ml-2",children:"Activos"}),e.jsx("div",{className:"grid gap-2",children:r.assets.map(t=>e.jsxs("button",{onClick:()=>u("asset",t.id),className:"w-full bg-white p-4 rounded-2xl flex items-center gap-4 hover:bg-orange-50 transition-colors group",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-10 h-10 rounded-xl object-cover"}),e.jsxs("div",{className:"text-left flex-1 truncate",children:[e.jsx("p",{className:"text-xs font-black text-slate-800 truncate",children:t.name}),e.jsx("p",{className:"text-[10px] font-bold text-orange-500 uppercase",children:t.internalId})]}),e.jsx(h,{size:16,className:"text-slate-300 group-hover:text-orange-500"})]},t.id))})]}),r.projects.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-[10px] font-black text-white/50 uppercase tracking-[0.2em] ml-2",children:"Obras"}),e.jsx("div",{className:"grid gap-2",children:r.projects.map(t=>e.jsxs("button",{onClick:()=>u("project",t.id),className:"w-full bg-white p-4 rounded-2xl flex items-center gap-4 hover:bg-slate-50 transition-colors group",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-600",children:e.jsx(_,{size:20})}),e.jsxs("div",{className:"text-left flex-1 truncate",children:[e.jsx("p",{className:"text-xs font-black text-slate-800 truncate",children:t.name}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t.internalId})]}),e.jsx(h,{size:16,className:"text-slate-300 group-hover:text-slate-800"})]},t.id))})]}),r.staff.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-[10px] font-black text-white/50 uppercase tracking-[0.2em] ml-2",children:"Personal"}),e.jsx("div",{className:"grid gap-2",children:r.staff.map(t=>e.jsxs("button",{onClick:()=>u("staff",t.id),className:"w-full bg-white p-4 rounded-2xl flex items-center gap-4 hover:bg-slate-50 transition-colors group",children:[e.jsx("img",{src:t.avatar,alt:t.name,className:"w-10 h-10 rounded-xl object-cover"}),e.jsxs("div",{className:"text-left flex-1 truncate",children:[e.jsx("p",{className:"text-xs font-black text-slate-800 truncate",children:t.name}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t.role})]}),e.jsx(h,{size:16,className:"text-slate-300 group-hover:text-slate-800"})]},t.id))})]}),r.workOrders.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-[10px] font-black text-white/50 uppercase tracking-[0.2em] ml-2",children:"Órdenes de Trabajo"}),e.jsx("div",{className:"grid gap-2",children:r.workOrders.map(t=>e.jsxs("button",{onClick:()=>u("wo",t.id),className:"w-full bg-white p-4 rounded-2xl flex items-center gap-4 hover:bg-slate-50 transition-colors group",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-600",children:e.jsx(N,{size:20})}),e.jsxs("div",{className:"text-left flex-1 truncate",children:[e.jsx("p",{className:"text-xs font-black text-slate-800 truncate",children:t.title}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t.id})]}),e.jsx(h,{size:16,className:"text-slate-300 group-hover:text-slate-800"})]},t.id))})]}),r.inventory.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-[10px] font-black text-white/50 uppercase tracking-[0.2em] ml-2",children:"Inventario"}),e.jsx("div",{className:"grid gap-2",children:r.inventory.map(t=>e.jsxs("button",{onClick:()=>u("inventory",t.id),className:"w-full bg-white p-4 rounded-2xl flex items-center gap-4 hover:bg-slate-50 transition-colors group",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-600",children:e.jsx(ve,{size:20})}),e.jsxs("div",{className:"text-left flex-1 truncate",children:[e.jsx("p",{className:"text-xs font-black text-slate-800 truncate",children:t.name}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:t.category})]}),e.jsx(h,{size:16,className:"text-slate-300 group-hover:text-slate-800"})]},t.id))})]})]})]})}),k&&e.jsxs("div",{className:"fixed inset-0 z-[80] animate-in fade-in duration-200",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/20 backdrop-blur-sm",onClick:()=>f(!1)}),e.jsxs("div",{className:"absolute top-20 right-6 left-6 max-w-sm ml-auto bg-white rounded-[2.5rem] shadow-2xl border border-slate-100 overflow-hidden animate-in slide-in-from-top-4 duration-300",children:[e.jsxs("div",{className:"bg-slate-50 p-6 flex justify-between items-center border-b border-slate-100",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Ie,{size:18,className:"text-orange-500"})," Notificaciones"]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mt-0.5",children:"Centro de Control SOWIC"})]}),e.jsxs("button",{onClick:X,className:"text-[10px] font-bold text-orange-500 bg-orange-50 px-3 py-1.5 rounded-full flex items-center gap-1 hover:bg-orange-100 transition-colors",children:[e.jsx($,{size:12})," Leer todo"]})]}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto no-scrollbar",children:m.length>0?e.jsx("div",{className:"divide-y divide-slate-50",children:m.map(t=>e.jsxs("div",{onClick:()=>{t.link&&(l(t.link),f(!1))},className:`p-5 flex gap-4 transition-colors cursor-pointer relative ${t.read?"bg-white opacity-60":"bg-orange-50/30"}`,children:[!t.read&&e.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-orange-500 rounded-full"}),e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 ${t.type==="critical"?"bg-red-100 text-red-600":t.type==="warning"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:t.type==="critical"?e.jsx(Ne,{size:20}):e.jsx(G,{size:20})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-0.5",children:[e.jsx("h4",{className:"text-xs font-black text-slate-800 truncate pr-2",children:t.title}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 whitespace-nowrap",children:t.time})]}),e.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed line-clamp-2",children:t.description})]}),e.jsx("button",{onClick:a=>Z(a,t.id),"aria-label":"Borrar notificación",className:"p-1.5 text-slate-300 hover:text-slate-500 transition-colors",children:e.jsx(v,{size:14})})]},t.id))}):e.jsxs("div",{className:"p-12 text-center space-y-3",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto text-slate-200",children:e.jsx($,{size:32})}),e.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Todo al día. No hay alertas."})]})}),e.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:e.jsxs("button",{onClick:()=>f(!1),className:"w-full py-3 bg-white border border-slate-200 rounded-2xl text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center justify-center gap-2 hover:bg-slate-100 transition-colors",children:[e.jsx(Ee,{size:14})," Configurar Alertas"]})})]})]}),e.jsxs("div",{className:"bg-orange-500 pb-12 pt-6 px-6 rounded-b-[2.5rem] relative",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-white/20 p-1.5 rounded-full backdrop-blur-sm",children:e.jsx("div",{className:"w-7 h-7 rounded-full bg-white flex items-center justify-center text-orange-500 font-bold text-xs",children:"SW"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white/80 text-[10px] font-bold uppercase tracking-wider",children:"SOWIC"}),e.jsx("p",{className:"text-white text-xs font-medium",children:"Gestión de Activos"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>f(!k),className:`w-9 h-9 backdrop-blur-md rounded-full flex items-center justify-center text-white relative transition-all ${k?"bg-white text-orange-500 scale-110":"bg-white/20"}`,children:[e.jsx(G,{size:18}),Q>0&&e.jsx("span",{className:"absolute top-1.5 right-2 w-2 h-2 bg-red-500 rounded-full border border-orange-500 animate-pulse"})]}),e.jsx("div",{className:"w-9 h-9 rounded-full bg-white/90 border-2 border-white overflow-hidden",children:e.jsx("img",{src:(c==null?void 0:c.avatar)||"https://ui-avatars.com/api/?name=User",alt:"Profile",className:"w-full h-full object-cover"})})]})]}),e.jsx("div",{className:"mt-8 relative z-[70]",children:e.jsxs("div",{className:`flex items-center gap-3 bg-white px-5 py-4 rounded-2xl shadow-xl transition-all duration-300 ${y?"scale-105 ring-4 ring-white/20":""}`,children:[e.jsx(F,{size:20,className:y?"text-orange-500":"text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Búsqueda global...",value:d,onChange:t=>x(t.target.value),onFocus:()=>b(!0),className:"flex-1 bg-transparent border-none outline-none text-slate-800 font-medium placeholder:text-slate-300 text-sm"}),e.jsxs("div",{className:"flex items-center gap-3",children:[d&&e.jsx("button",{onClick:()=>x(""),"aria-label":"Limpiar búsqueda",className:"text-slate-300 hover:text-slate-500",children:e.jsx(v,{size:18})}),e.jsx("div",{className:"w-px h-6 bg-slate-100"}),e.jsx("button",{onClick:()=>g(!0),"aria-label":"Abrir escáner",className:"text-orange-500 p-1 hover:scale-110 transition-transform",children:e.jsx(H,{size:20})})]})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("p",{className:"text-white/90 text-xs font-medium",children:"Panel Principal,"}),e.jsx("h1",{className:"text-2xl font-bold text-white mt-0.5",children:(c==null?void 0:c.name)||"Bienvenido"})]})]}),e.jsxs("div",{className:"px-6 -mt-8 space-y-8 pb-10",children:[e.jsxs("div",{className:"flex gap-4 overflow-x-auto no-scrollbar py-2",children:[e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm flex-1 min-w-[140px] flex flex-col justify-between h-28 border border-slate-50 group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"w-9 h-9 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600 mb-2",children:e.jsx(we,{size:18})}),e.jsx("div",{title:"Total de activos registrados en la plataforma.",children:e.jsx(V,{size:14,className:"text-slate-300 cursor-help hover:text-orange-500 transition-colors"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:"Total Activos"}),e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-2xl font-bold text-slate-800",children:j?"...":D})})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm flex-1 min-w-[140px] flex flex-col justify-between h-28 border border-slate-50 group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"w-9 h-9 bg-slate-100 rounded-xl flex items-center justify-center text-slate-600 mb-2",children:e.jsx(N,{size:18})}),e.jsx("div",{title:"Órdenes de trabajo actualmente en curso.",children:e.jsx(V,{size:14,className:"text-slate-300 cursor-help hover:text-slate-500 transition-colors"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:"Mantenimiento"}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-slate-800",children:j?"...":J.length}),e.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-1.5 py-0.5 rounded-full font-bold mb-1",children:"En Curso"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[e.jsx(Oe,{size:20,className:"text-orange-500"}),"Módulos"]})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:se.map(t=>e.jsxs("button",{onClick:()=>l(t.path),className:`${t.color} p-5 rounded-[2rem] shadow-sm border border-slate-100 flex flex-col items-center justify-center gap-3 transition-all active:scale-95 group relative overflow-hidden`,children:[e.jsx("div",{className:`w-12 h-12 ${t.color.includes("bg-white")?"bg-slate-50":"bg-white/20"} rounded-2xl flex items-center justify-center shadow-sm ${t.iconColor}`,children:e.jsx(t.icon,{size:26})}),e.jsx("span",{className:`text-sm font-bold ${t.color.includes("bg-slate-800")||t.color.includes("bg-orange-500")?"text-white":"text-slate-700"}`,children:t.label})]},t.id))}),e.jsx("div",{className:"flex items-center justify-between mb-4 mt-8",children:e.jsx("h3",{className:"font-bold text-slate-400 text-xs uppercase tracking-widest flex items-center gap-2",children:"Gestión"})}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:ie.map(t=>e.jsxs("button",{onClick:()=>l(t.path),className:`${t.color} p-4 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center justify-center gap-2 transition-all active:scale-95 group relative overflow-hidden h-28`,children:[e.jsx("div",{className:`w-10 h-10 ${t.color.includes("bg-white")?"bg-slate-50":"bg-white/20"} rounded-xl flex items-center justify-center shadow-sm ${t.iconColor}`,children:e.jsx(t.icon,{size:20})}),e.jsx("span",{className:`text-[10px] font-bold ${t.color.includes("bg-slate-800")||t.color.includes("bg-orange-500")?"text-white":"text-slate-600"}`,children:t.label})]},t.id))})]}),e.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-xl shadow-slate-200/50 border border-slate-50 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:e.jsx(ze,{size:80,className:"text-slate-800"})}),e.jsxs("h3",{className:"font-extrabold text-slate-800 text-lg mb-8 flex items-center gap-3",children:[e.jsx("div",{className:"w-1.5 h-6 bg-orange-500 rounded-full"}),"Estado de la Flota"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"h-56 relative group/chart",children:[e.jsx(ye,{width:"100%",height:"100%",children:e.jsxs(Ce,{children:[e.jsx(ke,{data:z,innerRadius:65,outerRadius:85,paddingAngle:8,dataKey:"value",stroke:"none",cornerRadius:10,animationBegin:0,animationDuration:1500,animationEasing:"ease-out",children:z.map((t,a)=>e.jsx(Se,{fill:t.color,className:"filter drop-shadow-sm hover:opacity-80 transition-opacity cursor-pointer"},`cell-${a}`))}),e.jsx(Ae,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",padding:"12px 20px"},itemStyle:{fontSize:"12px",fontWeight:"bold"}})]})}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[e.jsx("span",{className:"text-4xl font-black text-slate-800 tracking-tighter",children:j?"...":`${ae}%`}),e.jsx("span",{className:"text-[10px] text-slate-400 font-extrabold uppercase tracking-[0.2em] mt-1",children:"Disponible"})]})]}),e.jsx("div",{className:"space-y-3",children:z.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-2xl border border-slate-50 bg-slate-50/50 hover:bg-white hover:shadow-md transition-all group/item",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t.dotClass} shadow-sm group-hover/item:scale-125 transition-transform`}),e.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase tracking-tight",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-black text-slate-800",children:t.value}),e.jsx("span",{className:"text-[10px] font-bold text-slate-300",children:"ACT."})]})]},t.name))})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[e.jsx(De,{size:20,className:"text-orange-500"})," Actividad Reciente"]})}),e.jsx("div",{className:"space-y-3",children:j?e.jsx("p",{className:"text-sm text-slate-400",children:"Cargando..."}):T.length>0?T.map(t=>{var a;return e.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm flex items-center gap-4 border border-slate-50",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:e.jsx(N,{size:18})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-slate-800 text-sm truncate",children:t.title}),e.jsxs("p",{className:"text-[10px] text-slate-500 font-medium",children:["Activo: ",((a=t.asset)==null?void 0:a.name)||"N/A"]})]}),e.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:new Date(t.created_at).toLocaleDateString()})]},t.id)}):e.jsx("p",{className:"text-sm text-slate-400 italic",children:"No hay actividad reciente."})})]})]})]})};export{tt as default};
